<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <script type="text/javascript" src="results.json"></script>
    <script type="text/javascript" src='https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js'></script>
    <link href="vendors/bootstrap/css/bootstrap.css" rel="stylesheet">
    <link href="vendors/bootstrap/css/bootstrap-responsive.css" rel="stylesheet">
    <script src="vendors/bootstrap/js/bootstrap.min.js"></script>
    <script src="vendors/underscore-min.js"></script>
    <title>Perl community motivation survey results</title>
    <style>
        h1, h2 {
            text-align: center;
        }
    </style>
</head>
<body>
    <script src="http://code.highcharts.com/highcharts.js"></script>
    <script src="http://code.highcharts.com/modules/exporting.js"></script>
    <div class="container">
        <h1 style="text-align: center">Perl community motivation survey â€” results</h1>
        <p class="lead">
            <a href="blogs.perl.org/users/vyacheslav_matjukhin/2012/11/open-source-motivation-survey.html">Perl community motivation survey</a> is over.
            <br>You can find the form with original questions <a href="http://berekuk.wufoo.eu/forms/perl-community-motivation-survey/">here</a>.
        </p>
        <div class="well">
            <h2>Total participants: 202</h2>
        </div>
        <h2>Histograms</h2>
        <div id="report" style="min-width: 400px; margin: 0 auto"></div>
    </div>
<a href="https://github.com/you"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>
    <script type="text/javascript">
    $(function () {
        $(document).ready(function() {
            var div = $('<div style="height: 1800px">');
            ($('#report')).append(div);
            new Highcharts.Chart({
                chart: {
                    renderTo: div[0],
                    type: 'bar'
                },
                title: {
                    text: 'Reasons for participation'
                },
                xAxis: {
                    categories: r.reasons
                },
                yAxis: {
                    min: 0,
                    title: {
                        text: 'Number of participants'
                    }
                },
                legend: {
                    layout: 'vertical',
                    align: 'right',
                    verticalAlign: 'top',
                    x: -100,
                    y: 100,
                    floating: true,
                    borderWidth: 1,
                    backgroundColor: '#FFFFFF',
                    shadow: true
                },
                tooltip: {
                    formatter: function() {
                        return this.series.name + ': ' + this.y;
                    }
                },
                plotOptions: {
                    bar: {
                        dataLabels: {
                            enabled: true
                        }
                    }
                },
                series: _.map(_.filter(r.motivation_levels, function(level) { return level != 'N/A' }), function(level) {
                    return {
                        name: level,
                        data: _.map(r.histogram, function(stat) {
                            return parseInt(stat[level]);
                        }),
                        animation: false
                    };
                })
            });

            _.each([
                "How often do you contribute to the open source, on average? (Coding, reporting bugs, writing blog posts all counts.)",
                "Would you like to contribute more?",
                "Given the amount of free time you have now, would you contribute more if the environment was perfectly friendly, perfectly rewarding, and you knew that your actions make a great impact?",
                "How long have you been involved in the open source community?"
            ], function(question) {
                new Highcharts.Chart({
                    chart: {
                        renderTo: $('<div>').appendTo($('#report'))[0],
                        type: 'bar'
                    },
                    title: {
                        text: question
                    },
                    xAxis: {
                        categories: ['blah']
                    },
                    yAxis: {
                        min: 0,
                        title: {
                            text: 'Number of participants'
                        }
                    },
                    legend: {
                        layout: 'vertical',
                        align: 'right',
                        verticalAlign: 'top',
                        x: -100,
                        y: 100,
                        floating: true,
                        borderWidth: 1,
                        backgroundColor: '#FFFFFF',
                        shadow: true
                    },
                    tooltip: {
                        formatter: function() {
                            return this.series.name + ': ' + this.y;
                        }
                    },
                    plotOptions: {
                        bar: {
                            dataLabels: {
                                enabled: true
                            }
                        }
                    },
                    series: _.map(r.histogram[question], function(n, option) {
                        return {
                            name: option,
                            data: [parseInt(n)],
                            animation: false
                        };
                    })
                });
            }
            );
        });
    });
    </script>
</body>
</html>
